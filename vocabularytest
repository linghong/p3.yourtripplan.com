<!DOCTYPE html>
<html>
	<head>
	</head>
	<body>
/*----------------------------------------------------------------------------------------------------------------------------
Start Test
------------------------------------------------------------------------------------------------------------------------*/
		//A student can click the button to start the vocabulary test
		<div id="vocabulary_test">Let's do a vocabulary test</div>
			<p>The test will give you a word and ask you to pick up the correct explaination from the four explianations listed below. After you finish all questions, a score will show up.</p>
			<input id="start_test" type="submit" value="Start Vocabulary Test">

			<div id="word">newVocabulary[words_count]</div>
				<form id="test_form">
				<input type="radio" name="answer" id="answer1"><label for = "answer1">'+ wordNewChoice[0] +'</label><br>
				<input type="radio" name="answer" id="answer2"><label for = "answer2">'+ wordNewChoice[1] +'</label><br>
				<input type="radio" name="answer" id="answer3"><label for = "answer3">'+ wordNewChoice[2] +'</label><br>
				<input type="radio" name="answer" id="answer4"><label for = "answer4">'+ wordNewChoice[3] + '</label><br>
				<input type="submit" value="Submit">
			</form>'

	<script src='https//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js'></script>
	<script src='/vocabularylibrary.js'></script>
    <script type='text/javascript'>

/*--------------------------------------------------------------------------------------------------------------------------------
Produce a word for test and the four explaination choice
--------------------------------------------------------------------------------------------------------------------------------*/

		$('#start_test').click(function(){

			//Genenrate a random number, which will be used for selceting the test word from the vocabulary array library 
			random_number = math.floor(math.random()*words_count);

    		//Shuffle the explaination array order  		
    		randomExplainations = vocabularyExplainations.shuffle();

    		//Check if the correct explaination is in the first three of the array. If so, delete it.
    		for (var i=0; i<3; i++){
	    	if (randomExplainations[i] == vocabularyExplainations[random_number]) {
				randomExplainations.splice(i,1); 
				i=i-1;
				}
			}

    		//pick up the first three wrong explainations and the correct explaination to make a new array	
    		wordChoice = new Array(
	   	 		newVocabulary[random_number],
	    		randomExplainations[0],
	    		randomExplainations[1],
	    		randomExplainations[2]
			);

    		//make the four explainations in a random order
    		wordNewChoice = wordChoice.shuffle();

			//print out the test word and the four explainations
			$("#vocabulary_test").html(
				$("#test_form").show()
				$("#word").write(newVocabulary[words_count])
				$("#answer1").write(wordNewChoice[0])
				$("#answer2").write(wordNewChoice[1]) 
				$("#answer3").write(wordNewChoice[2]) 
				$("#answer4").write(wordNewChoice[3])  
			);
		});


/*----------------------------------------------------------------------------------------------------------------------------
Check if the answer is correct
-----------------------------------------------------------------------------------------------------------------------------*/

   		//compare to find whether the answer is correct, if correct, say congratualtion;if not, show correct answer
   		var answer =$('input[name=answer:checked']).val();
		var correct_answer == vocabularyExplainations[random_number];
		$('#submit').click(function(){
			if (answer == correct_answer)
				{
				$("submit").html('Excellent! <input type="submit" id="restart">Next Question');
				}
			else{
				$("submit").html('Sorry, you gave a wrong answer.<br>
				<input type="submit" id="correctanswer">Correct Answer');				
   				}			 			
   		});   

/*----------------------------------------------------------------------------------------------------------------------------
Get the correct answer
-----------------------------------------------------------------------------------------------------------------------------*/
		//Get correst answer	
		$('#correctanswer').click(){
			html('correct answer is'+correct_answer+'<br>
			<input type="submit" id="restart">Next Question</div>')
		};

/*----------------------------------------------------------------------------------------------------------------------------
Start a new test
-----------------------------------------------------------------------------------------------------------------------------*/
		//start a new word test
		$('#restart').click(function(){
				location.reload()
		});

	</script>
	

	</body>
</html>